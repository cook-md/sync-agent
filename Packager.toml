# cargo-packager configuration for Cook Sync
# Documentation: https://docs.crabnebula.dev/packager/

# Basic package information
name = "cook-sync"
product-name = "Cook Sync"
identifier = "com.cook.sync-agent"
authors = ["Alexey Dubovskoy"]
publisher = "Cook.md"
description = "CookCloud sync agent for syncing recipes with Cook.md"
homepage = "https://cook.md"
copyright = "Copyright (c) 2025 Cook.md"
license-file = "LICENSE"

# Build command to run before packaging
before-packaging-command = "cargo build --release"

# Resources to include in the package
resources = [
    "assets/icon*.png",
    "assets/package.*"
]

# Main binary configuration
[[binaries]]
path = "target/release/cook-sync"
main = true

# macOS-specific configuration
[macos]
minimum-system-version = "10.13"

[dmg]
window-size = { width = 660, height = 400 }
app-position = { x = 180, y = 170 }
application-folder-position = { x = 480, y = 170 }

# Linux AppImage configuration
[appimage]

# Windows NSIS configuration
[nsis]
installer-icon = "assets/package.ico"
installer-mode = "currentUser"
languages = ["en-US"]
compression = "lzma"
display-language-selector = false

# Windows MSI/WiX configuration
[wix]
fips-compliant = false
languages = ["en-US"]
